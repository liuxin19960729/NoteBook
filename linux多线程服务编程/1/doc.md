# 线程安全的对象生命期管理
```
1.如何在调用对象析构函数的时候避免竞争
    shared_ptr weak_ptr 解决
```
## 1.1 析构函数遇到多线程
### 1.1.1 线程安全的定义
```
线程安全的class应当具备以下三个条件

1.多个线程访问的时候表现出正确的行为
2.调用端代码无需额外的同步或其他协调动作
3.无论os如何调度这些线程,都能正确的执行代码

```
### 1.1.2 MutexLock 与 MutexLockGuard
```

```